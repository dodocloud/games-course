<p><span style="color:#E040FB;">class</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#40C4FF;">RotationComponent</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FF5252;">extends</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#40C4FF;">ECSA</span><span style="color:#F8F8F0;">.</span><span style="color:#B2FF59;">Component</span><span style="color:#F8F8F0;">&nbsp;{</span></p>
  <p><span style="color:#F8F8F0;">&nbsp; objects</span><span style="color:#FF5252;">:</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#40C4FF;">ECSA</span><span style="color:#F8F8F0;">.</span><span style="color:#40C4FF;">GameObject</span><span style="color:#F8F8F0;">[];</span></p>
  <p><span style="color:#F8F8F0;">&nbsp;</span></p>
  <p><span style="color:#F8F8F0;">&nbsp;&nbsp;</span><span style="color:#B2FF59;">onInit</span><span style="color:#F8F8F0;">()&nbsp;{</span></p>
  <p><span style="color:#F8F8F0;">&nbsp; &nbsp;&nbsp;</span><span style="color:#40C4FF;">this</span><span style="color:#F8F8F0;">.</span><span style="color:#B2FF59;">subscribe</span><span style="color:#F8F8F0;">(</span><span style="color:yellow;">'GAME_OVER'</span><span style="color:#F8F8F0;">);</span></p>
  <p><span style="color:#F8F8F0;">&nbsp; &nbsp;&nbsp;</span><span style="color:#40C4FF;">this</span><span style="color:#F8F8F0;">.</span><span style="color:#40C4FF;">objects</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FF5252;">=</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#40C4FF;">this</span><span style="color:#F8F8F0;">.</span><span style="color:#40C4FF;">scene</span><span style="color:#F8F8F0;">.</span><span style="color:#B2FF59;">findObjectsByTag</span><span style="color:#F8F8F0;">(</span><span style="color:yellow;">'tag_rotating'</span><span style="color:#F8F8F0;">);</span></p>
  <p><span style="color:#F8F8F0;">&nbsp; }</span></p>
  <p><span style="color:#F8F8F0;">&nbsp;</span></p>
  <p><span style="color:#F8F8F0;">&nbsp;&nbsp;</span><span style="color:#B2FF59;">onMessage</span><span style="color:#F8F8F0;">(</span><span style="color:#FFAB40;">msg</span><span style="color:#FF5252;">:</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#40C4FF;">ECSA</span><span style="color:#F8F8F0;">.</span><span style="color:#40C4FF;">Message</span><span style="color:#F8F8F0;">)&nbsp;{</span></p>
  <p><span style="color:#F8F8F0;">&nbsp; &nbsp;&nbsp;</span><span style="color:#FF5252;">if</span><span style="color:#F8F8F0;">(msg.</span><span style="color:#40C4FF;">action</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FF5252;">===</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:yellow;">'GAME_OVER'</span><span style="color:#F8F8F0;">) {&nbsp;</span><span style="color:#40C4FF;">this</span><span style="color:#F8F8F0;">.</span><span style="color:#B2FF59;">finish</span><span style="color:#F8F8F0;">();&nbsp;}</span></p>
  <p><span style="color:#F8F8F0;">&nbsp; }</span></p>
  <p><span style="color:#F8F8F0;">&nbsp;</span></p>
  <p><span style="color:#F8F8F0;">&nbsp;&nbsp;</span><span style="color:#B2FF59;">onUpdate</span><span style="color:#F8F8F0;">(</span><span style="color:#FFAB40;">delta</span><span style="color:#FF5252;">:</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#E040FB;">number</span><span style="color:#F8F8F0;">,&nbsp;</span><span style="color:#FFAB40;">absolute</span><span style="color:#FF5252;">:</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#E040FB;">number</span><span style="color:#F8F8F0;">)&nbsp;{</span></p>
  <p><span style="color:#F8F8F0;">&nbsp; &nbsp;&nbsp;</span><span style="color:#40C4FF;">this</span><span style="color:#F8F8F0;">.</span><span style="color:#40C4FF;">objects</span><span style="color:#F8F8F0;">.</span><span style="color:#B2FF59;">forEach</span><span style="color:#F8F8F0;">(</span><span style="color:#FFAB40;">obj</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#E040FB;">=&gt;</span><span style="color:#F8F8F0;">&nbsp;obj.</span><span style="color:#B2FF59;">asContainer</span><span style="color:#F8F8F0;">().</span><span style="color:#40C4FF;">rotation</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FF5252;">+=</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FFAB40;">0.01</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FF5252;">*</span><span style="color:#F8F8F0;">&nbsp;delta);</span></p>
  <p><span style="color:#F8F8F0;">&nbsp; }</span></p>
  <p><span style="color:#F8F8F0;">&nbsp;</span></p>
  <p><span style="color:#F8F8F0;">&nbsp;&nbsp;</span><span style="color:#B2FF59;">onFinish</span><span style="color:#F8F8F0;">() {&nbsp;</span><span style="color:#40C4FF;">this</span><span style="color:#F8F8F0;">.</span><span style="color:#40C4FF;">objects</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FF5252;">=</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FFAB40;">null</span><span style="color:#F8F8F0;">; }&nbsp;</span><span style="color:#aaa;">//&nbsp;important&nbsp;to&nbsp;prevent&nbsp;memory&nbsp;leaks</span></p>
  <p><span style="color:#F8F8F0;">}</span></p>