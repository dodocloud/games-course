<p><span style="color:#E040FB;">class</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#40C4FF;">ATOMIC_API</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#40C4FF;">Object</span><span style="color:#F8F8F0;">&nbsp;:&nbsp;</span><span style="color:#40C4FF;">public</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#40C4FF;">RefCounted</span><span style="color:#F8F8F0;">&nbsp;{</span></p>
  <p><span style="color:#F8F8F0;">public</span><span style="color:#FF5252;">:</span></p>
  <p><span style="color:#F8F8F0;">&nbsp; &nbsp;&nbsp;</span><span style="color:#40C4FF;">Object</span><span style="color:#F8F8F0;">(</span><span style="color:#40C4FF;">Context</span><span style="color:#F8F8F0;">*&nbsp;</span><span style="color:#40C4FF;">context</span><span style="color:#F8F8F0;">);</span></p>
  <p><span style="color:#F8F8F0;">&nbsp; &nbsp;&nbsp;</span><span style="color:#aaa;">///&nbsp;Return&nbsp;type&nbsp;info.</span></p>
  <p><span style="color:#F8F8F0;">&nbsp; &nbsp; virtual const TypeInfo</span><span style="color:#FF5252;">*</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#B2FF59;">GetTypeInfo</span><span style="color:#F8F8F0;">()&nbsp;const&nbsp;=&nbsp;0;</span></p>
  <p><span style="color:#F8F8F0;">&nbsp; &nbsp;&nbsp;</span><span style="color:#aaa;">///&nbsp;Handle&nbsp;event.</span></p>
  <p><span style="color:#F8F8F0;">&nbsp; &nbsp; virtual&nbsp;</span><span style="color:#FF5252;">void</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#B2FF59;">OnEvent</span><span style="color:#F8F8F0;">(</span><span style="color:#FFAB40;">Object</span><span style="color:#F8F8F0;">*&nbsp;</span><span style="color:#FFAB40;">sender</span><span style="color:#F8F8F0;">,&nbsp;</span><span style="color:#FFAB40;">StringHash</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FFAB40;">eventType</span><span style="color:#F8F8F0;">,&nbsp;</span><span style="color:#FFAB40;">VariantMap</span><span style="color:#F8F8F0;">&amp;&nbsp;</span><span style="color:#FFAB40;">eventData</span><span style="color:#F8F8F0;">);</span></p>
  <p><span style="color:#F8F8F0;">&nbsp; &nbsp;&nbsp;</span><span style="color:#aaa;">///&nbsp;Subscribe&nbsp;to&nbsp;a&nbsp;specific&nbsp;sender's&nbsp;event.</span></p>
  <p><span style="color:#F8F8F0;">&nbsp; &nbsp;&nbsp;</span><span style="color:#FF5252;">void</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#B2FF59;">SubscribeToEvent</span><span style="color:#F8F8F0;">(</span><span style="color:#FFAB40;">Object</span><span style="color:#F8F8F0;">*&nbsp;</span><span style="color:#FFAB40;">sender</span><span style="color:#F8F8F0;">,&nbsp;</span><span style="color:#FFAB40;">StringHash</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FFAB40;">eventType</span><span style="color:#F8F8F0;">,&nbsp;</span><span style="color:#FFAB40;">EventHandler</span><span style="color:#F8F8F0;">*&nbsp;</span><span style="color:#FFAB40;">handler</span><span style="color:#F8F8F0;">);</span></p>
  <p><span style="color:#F8F8F0;">&nbsp; &nbsp;&nbsp;</span><span style="color:#aaa;">///&nbsp;Unsubscribe&nbsp;from&nbsp;a&nbsp;specific&nbsp;sender's&nbsp;event.</span></p>
  <p><span style="color:#F8F8F0;">&nbsp; &nbsp;&nbsp;</span><span style="color:#FF5252;">void</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#B2FF59;">UnsubscribeFromEvent</span><span style="color:#F8F8F0;">(</span><span style="color:#FFAB40;">Object</span><span style="color:#F8F8F0;">*&nbsp;</span><span style="color:#FFAB40;">sender</span><span style="color:#F8F8F0;">,&nbsp;</span><span style="color:#FFAB40;">StringHash</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FFAB40;">eventType</span><span style="color:#F8F8F0;">);</span></p>
  <p><span style="color:#F8F8F0;">&nbsp; &nbsp;&nbsp;</span><span style="color:#aaa;">///&nbsp;Send&nbsp;event&nbsp;with&nbsp;parameters&nbsp;to&nbsp;all&nbsp;subscribers.</span></p>
  <p><span style="color:#F8F8F0;">&nbsp; &nbsp;&nbsp;</span><span style="color:#FF5252;">void</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#B2FF59;">SendEvent</span><span style="color:#F8F8F0;">(</span><span style="color:#FFAB40;">StringHash</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FFAB40;">eventType</span><span style="color:#F8F8F0;">,&nbsp;</span><span style="color:#FFAB40;">VariantMap</span><span style="color:#F8F8F0;">&amp;&nbsp;</span><span style="color:#FFAB40;">eventData</span><span style="color:#F8F8F0;">);</span></p>
  <p><span style="color:#F8F8F0;">&nbsp; &nbsp;&nbsp;</span><span style="color:#aaa;">///&nbsp;Return&nbsp;execution&nbsp;context.</span></p>
  <p><span style="color:#F8F8F0;">&nbsp; &nbsp; Context</span><span style="color:#FF5252;">*</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#B2FF59;">GetContext</span><span style="color:#F8F8F0;">() const {&nbsp;</span><span style="color:#FF5252;">return</span><span style="color:#F8F8F0;">&nbsp;context_; }</span></p>
  <p><span style="color:#F8F8F0;">&nbsp; &nbsp;&nbsp;</span><span style="color:#aaa;">///&nbsp;Return&nbsp;global&nbsp;variable&nbsp;based&nbsp;on&nbsp;key</span></p>
  <p><span style="color:#F8F8F0;">&nbsp; &nbsp; const Variant</span><span style="color:#FF5252;">&amp;</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#B2FF59;">GetGlobalVar</span><span style="color:#F8F8F0;">(</span><span style="color:#FFAB40;">StringHash</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FFAB40;">key</span><span style="color:#F8F8F0;">)&nbsp;const;</span></p>
  <p><span style="color:#F8F8F0;">&nbsp; &nbsp;&nbsp;</span><span style="color:#aaa;">///&nbsp;Set&nbsp;global&nbsp;variable&nbsp;with&nbsp;the&nbsp;respective&nbsp;key&nbsp;and&nbsp;value</span></p>
  <p><span style="color:#F8F8F0;">&nbsp; &nbsp;&nbsp;</span><span style="color:#FF5252;">void</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#B2FF59;">SetGlobalVar</span><span style="color:#F8F8F0;">(</span><span style="color:#FFAB40;">StringHash</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FFAB40;">key</span><span style="color:#F8F8F0;">,&nbsp;</span><span style="color:#FFAB40;">const</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FFAB40;">Variant</span><span style="color:#F8F8F0;">&amp;&nbsp;</span><span style="color:#FFAB40;">value</span><span style="color:#F8F8F0;">);</span></p>
  <p><span style="color:#F8F8F0;">&nbsp; &nbsp;&nbsp;</span><span style="color:#aaa;">///&nbsp;Return&nbsp;subsystem&nbsp;by&nbsp;type.</span></p>
  <p><span style="color:#F8F8F0;">&nbsp; &nbsp;&nbsp;</span><span style="color:#40C4FF;">Object</span><span style="color:#FF5252;">*</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#B2FF59;">GetSubsystem</span><span style="color:#F8F8F0;">(</span><span style="color:#FFAB40;">StringHash</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FFAB40;">type</span><span style="color:#F8F8F0;">)&nbsp;const;</span></p>
  <p><span style="color:#FF5252;">...</span><span style="color:#F8F8F0;">&nbsp;};</span></p>