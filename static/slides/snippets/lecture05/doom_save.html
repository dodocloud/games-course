<p><span style="color:#aaa;">// p_saveg.c::P_UnArchiveThinkers&nbsp;</span></p>
<p><span style="color:#FF5252;">while</span><span style="color:#F8F8F0;">&nbsp;(</span><span style="color:#FFAB40;">1</span><span style="color:#F8F8F0;">)&nbsp;{</span></p>
<p><span style="color:#F8F8F0;">&nbsp; tclass&nbsp;</span><span style="color:#FF5252;">=</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FF5252;">*</span><span style="color:#F8F8F0;">save_p</span><span style="color:#FF5252;">++</span><span style="color:#F8F8F0;">;</span></p>
<p><span style="color:#F8F8F0;">&nbsp;&nbsp;</span><span style="color:#FF5252;">switch</span><span style="color:#F8F8F0;">&nbsp;(tclass) { &nbsp;&nbsp;</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp;&nbsp;</span><span style="color:#FF5252;">case</span><span style="color:#F8F8F0;">&nbsp;tc_mobj:</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; &nbsp;&nbsp;</span><span style="color:#B2FF59;">PADSAVEP</span><span style="color:#F8F8F0;">();</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; &nbsp; mobj&nbsp;</span><span style="color:#FF5252;">=</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#B2FF59;">Z_Malloc</span><span style="color:#F8F8F0;">&nbsp;(</span><span style="color:#FF5252;">sizeof</span><span style="color:#F8F8F0;">(</span><span style="color:#FF5252;">*</span><span style="color:#F8F8F0;">mobj), PU_LEVEL,&nbsp;</span><span style="color:#FFAB40;">NULL</span><span style="color:#F8F8F0;">);</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; &nbsp;&nbsp;</span><span style="color:#B2FF59;">memcpy</span><span style="color:#F8F8F0;">&nbsp;(mobj, save_p,&nbsp;</span><span style="color:#FF5252;">sizeof</span><span style="color:#F8F8F0;">(</span><span style="color:#FF5252;">*</span><span style="color:#F8F8F0;">mobj));</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; &nbsp; save_p&nbsp;</span><span style="color:#FF5252;">+=</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FF5252;">sizeof</span><span style="color:#F8F8F0;">(</span><span style="color:#FF5252;">*</span><span style="color:#F8F8F0;">mobj);</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; &nbsp; mobj-&gt;</span><span style="color:#40C4FF;">state</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FF5252;">=</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FF5252;">&amp;</span><span style="color:#F8F8F0;">states[(</span><span style="color:#E040FB;">int</span><span style="color:#F8F8F0;">)mobj-&gt;</span><span style="color:#40C4FF;">state</span><span style="color:#F8F8F0;">];</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; &nbsp; mobj-&gt;</span><span style="color:#40C4FF;">target</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FF5252;">=</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FFAB40;">NULL</span><span style="color:#F8F8F0;">;</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; &nbsp;&nbsp;</span><span style="color:#FF5252;">if</span><span style="color:#F8F8F0;">&nbsp;(mobj-&gt;</span><span style="color:#40C4FF;">player</span><span style="color:#F8F8F0;">)&nbsp;{</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; &nbsp; &nbsp; mobj-&gt;</span><span style="color:#40C4FF;">player</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FF5252;">=</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FF5252;">&amp;</span><span style="color:#F8F8F0;">players[(</span><span style="color:#E040FB;">int</span><span style="color:#F8F8F0;">)mobj-&gt;</span><span style="color:#40C4FF;">player</span><span style="color:#FF5252;">-</span><span style="color:#FFAB40;">1</span><span style="color:#F8F8F0;">];</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; &nbsp; &nbsp; mobj-&gt;</span><span style="color:#40C4FF;">player-&gt;mo</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FF5252;">=</span><span style="color:#F8F8F0;">&nbsp;mobj;</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; &nbsp; }</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; &nbsp;&nbsp;</span><span style="color:#B2FF59;">P_SetThingPosition</span><span style="color:#F8F8F0;">&nbsp;(mobj);</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; &nbsp; mobj-&gt;</span><span style="color:#40C4FF;">info</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FF5252;">=</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FF5252;">&amp;</span><span style="color:#F8F8F0;">mobjinfo[mobj-&gt;</span><span style="color:#40C4FF;">type</span><span style="color:#F8F8F0;">];</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; &nbsp;&nbsp;</span><span style="color:#B2FF59;">P_AddThinker</span><span style="color:#F8F8F0;">&nbsp;(</span><span style="color:#FF5252;">&amp;</span><span style="color:#F8F8F0;">mobj-&gt;</span><span style="color:#40C4FF;">thinker</span><span style="color:#F8F8F0;">);</span></p>