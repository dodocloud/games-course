<p><span style="color:#acacac;">//&nbsp;Doom&nbsp;2:&nbsp;find&nbsp;player&nbsp;to&nbsp;chase</span></p>
<p><span style="color:#E040FB;">void</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#B2FF59;">A_Look</span><span style="color:#F8F8F0;">&nbsp;(</span><span style="color:#E040FB;">mobj_t</span><span style="color:#FF5252;">*</span><span style="color:#FFAB40;">&nbsp;actor</span><span style="color:#F8F8F0;">)&nbsp;{</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp;&nbsp;</span><span style="color:#E040FB;">mobj_t</span><span style="color:#FF5252;">*</span><span style="color:#F8F8F0;">&nbsp;targ;</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; actor-&gt;</span><span style="color:#40C4FF;">threshold</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FF5252;">=</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FFAB40;">0</span><span style="color:#F8F8F0;">; &nbsp;&nbsp;</span><span style="color:#acacac;">//&nbsp;any&nbsp;shot&nbsp;will&nbsp;wake&nbsp;up</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; targ&nbsp;</span><span style="color:#FF5252;">=</span><span style="color:#F8F8F0;">&nbsp;actor-&gt;</span><span style="color:#40C4FF;">subsector-&gt;sector-&gt;soundtarget</span><span style="color:#F8F8F0;">;</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; &nbsp;&nbsp;</span><span style="color:#FF5252;">if</span><span style="color:#F8F8F0;">&nbsp;(actor-&gt;</span><span style="color:#40C4FF;">flags</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FF5252;">&amp;</span><span style="color:#F8F8F0;">&nbsp;MF_AMBUSH){</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span style="color:#FF5252;">if</span><span style="color:#F8F8F0;">&nbsp;(</span><span style="color:#B2FF59;">P_CheckSight</span><span style="color:#F8F8F0;">&nbsp;(actor, actor-&gt;</span><span style="color:#40C4FF;">target</span><span style="color:#F8F8F0;">))</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span style="color:#FF5252;">goto</span><span style="color:#F8F8F0;">&nbsp;seeyou;</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; }&nbsp;</span><span style="color:#FF5252;">else</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FF5252;">goto</span><span style="color:#F8F8F0;">&nbsp;seeyou;</span></p>
<p><span style="color:#F8F8F0;">&nbsp;&nbsp;</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp;&nbsp;</span><span style="color:#FF5252;">if</span><span style="color:#F8F8F0;">&nbsp;(</span><span style="color:#FF5252;">!</span><span style="color:#B2FF59;">P_LookForPlayers</span><span style="color:#F8F8F0;">&nbsp;(actor,&nbsp;</span><span style="color:#FFAB40;">false</span><span style="color:#F8F8F0;">))&nbsp;</span><span style="color:#FF5252;">return</span><span style="color:#F8F8F0;">;</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp;&nbsp;</span><span style="color:#acacac;">//&nbsp;go&nbsp;into&nbsp;chase&nbsp;state</span></p>
<p><span style="color:#F8F8F0;">seeyou:</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp;&nbsp;</span><span style="color:#B2FF59;">P_ChasePlayer</span><span style="color:#F8F8F0;">();</span></p>
<p><span style="color:#F8F8F0;">}</span></p>