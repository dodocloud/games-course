<p
  style=" line-height: 107%; margin-top: 0pt; margin-bottom: 0pt; margin-left: 0in; text-align: left; direction: ltr; unicode-bidi: embed; word-break: normal; punctuation-wrap: hanging;">
  <span style="color: #f3b57d; ">boolean</span> <span style="color: #f8f8f8; ">P_CheckMissileRange</span> <span
    style="color: #cda869; ">(</span><span style="color: #f8f8f8; ">mobj_t</span><span
    style="color: #cda869; ">*</span><span style="color: #f8f8f8; "> actor</span><span
    style="color: #cda869; ">){</span><span style="color: #f8f8f8; ">&nbsp;&nbsp;&nbsp; </span></p>
<p>&nbsp;&nbsp;&nbsp; </span><span style="color: #f6c9a0; ">if</span> <span style="color: #cda869; ">(!</span><span
    style="color: #f8f8f8; ">P_CheckSight</span><span style="color: #cda869; ">(</span><span
    style="color: #f8f8f8; ">actor</span><span style="color: #cda869; ">,</span><span style="color: #f8f8f8; ">
    actor</span><span style="color: #cda869; ">-&gt;</span><span style="color: #f8f8f8; ">target</span><span
    style="color: #cda869; ">))</span></p>
<p>&nbsp;&nbsp;&nbsp; </span><span style="color: #f6c9a0; ">return</span> <span
    style="color: #f6c9a0; ">false</span><span style="color: #cda869; ">;</span> <span style="color: #8d868e; ">//
    can&rsquo;t see the target </span></p>
<p>&nbsp;&nbsp;&nbsp; </span></p>
<p>&nbsp;&nbsp;&nbsp; </span><span style="color: #f6c9a0; ">if</span> <span style="color: #cda869; ">(</span><span
    style="color: #f8f8f8; "> actor</span><span style="color: #cda869; ">-&gt;</span><span
    style="color: #f8f8f8; ">flags </span><span style="color: #cda869; ">&amp;</span><span style="color: #f8f8f8; ">
    MF_JUSTHIT </span><span style="color: #cda869; ">)</span> <span style="color: #cda869; ">{</span></p>
<p>&nbsp;&nbsp;&nbsp; </span><span style="color: #8d868e; ">// just hit -&gt; fight back! </span></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; actor</span><span style="color: #cda869; ">-&gt;</span><span
    style="color: #f8f8f8; ">flags </span><span style="color: #cda869; ">&amp;=</span> <span
    style="color: #cda869; ">~</span><span style="color: #f8f8f8; ">MF_JUSTHIT</span><span
    style="color: #cda869; ">;</span></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #f6c9a0; ">return</span> <span
    style="color: #f6c9a0; ">true</span><span style="color: #cda869; ">;</span></p>
<p>&nbsp;&nbsp;&nbsp; </span><span style="color: #cda869; ">}</span></p>
<p>&nbsp;&nbsp;&nbsp; </span></p>
<p>&nbsp;&nbsp;&nbsp; </span><span style="color: #f6c9a0; ">if</span> <span style="color: #cda869; ">(</span><span
    style="color: #f8f8f8; ">actor</span><span style="color: #cda869; ">-&gt;</span><span
    style="color: #f8f8f8; ">reactiontime</span><span style="color: #cda869; ">)</span></p>
<p>&nbsp;&nbsp;&nbsp; </span><span style="color: #f6c9a0; ">return</span> <span
    style="color: #f6c9a0; ">false</span><span style="color: #cda869; ">;</span> <span style="color: #8d868e; ">// do
    not attack yet</span></p>
<p>&nbsp;&nbsp;&nbsp; </span></p>
<p>&nbsp;&nbsp;&nbsp; </span><span style="color: #f8f8f8; ">dist</span> <span style="color: #cda869; ">=</span> <span
    style="color: #f8f8f8; ">P_AproxDistance</span> <span style="color: #cda869; ">(</span><span
    style="color: #f8f8f8; ">actor</span><span style="color: #cda869; ">,</span><span style="color: #f8f8f8; ">
    target</span><span style="color: #cda869; ">)</span></p>
<p>&nbsp;&nbsp;&nbsp; </span><span style="color: #cda869; ">-</span> <span style="color: #82d4e5; ">64</span><span
    style="color: #cda869; ">*</span><span style="color: #f8f8f8; ">FRACUNIT</span><span
    style="color: #cda869; ">;</span></p>
<p>&nbsp;&nbsp;&nbsp; </span></p>
<p>&nbsp;&nbsp;&nbsp; </span><span style="color: #8d868e; ">// no melee attack, so fire more</span></p>
<p>&nbsp;&nbsp;&nbsp; </span><span style="color: #f6c9a0; ">if</span> <span style="color: #cda869; ">(!</span><span
    style="color: #f8f8f8; ">actor</span><span style="color: #cda869; ">-&gt;</span><span
    style="color: #f8f8f8; ">info</span><span style="color: #cda869; ">-&gt;</span><span
    style="color: #f8f8f8; ">meleestate</span><span style="color: #cda869; ">)</span></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #f8f8f8; ">dist</span> <span style="color: #cda869; ">-=</span>
  <span style="color: #82d4e5; ">128</span><span style="color: #cda869; ">*</span><span
    style="color: #f8f8f8; ">FRACUNIT</span><span style="color: #cda869; ">;</span><span style="color: #f8f8f8; ">&nbsp;
  </span></p>
<p>&nbsp;&nbsp;</span></p>
<p>&nbsp;&nbsp;&nbsp; </span><span style="color: #8d868e; ">// check for ARCH-VILE</span></p>
<p>&nbsp;&nbsp;&nbsp; </span><span style="color: #f6c9a0; ">if</span> <span style="color: #cda869; ">(</span><span
    style="color: #f8f8f8; ">actor</span><span style="color: #cda869; ">-&gt;</span><span style="color: #f8f8f8; ">type
  </span><span style="color: #cda869; ">==</span><span style="color: #f8f8f8; "> MT_VILE</span><span
    style="color: #cda869; ">){</span></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #f6c9a0; ">if</span> <span
    style="color: #cda869; ">(</span><span style="color: #f8f8f8; ">dist</span> <span
    style="color: #cda869; ">&gt;</span> <span style="color: #82d4e5; ">14</span><span
    style="color: #cda869; ">*</span><span style="color: #82d4e5; ">64</span><span style="color: #cda869; ">)</span></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #f6c9a0; ">return</span>
  <span style="color: #f6c9a0; ">false</span><span style="color: #cda869; ">;</span><span
    style="color: #f8f8f8; ">&nbsp; </span><span style="color: #8d868e; ">// too far away</span></p>
<p>&nbsp;&nbsp;&nbsp; </span><span style="color: #cda869; ">}</span></p>
<p
  style=" line-height: 107%; margin-top: 0pt; margin-bottom: 0pt; margin-left: 0in; text-align: left; direction: ltr; unicode-bidi: embed; word-break: normal; punctuation-wrap: hanging;">
  <span style="color: #cda869; ">}</span></p>
<p>&nbsp;</span></p>