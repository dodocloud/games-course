<p><span style="color:#F8F8F0;">func&nbsp;</span><span style="color:#B2FF59;">_process</span><span style="color:#F8F8F0;">(delta):</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; # Get ball position&nbsp;</span><span style="color:#FF5252;">and</span><span style="color:#F8F8F0;">&nbsp;pad rectangles</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; var ball_pos&nbsp;</span><span style="color:#FF5252;">=</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#B2FF59;">get_node</span><span style="color:#F8F8F0;">(</span><span style="color:yellow;">"ball"</span><span style="color:#F8F8F0;">).</span><span style="color:#B2FF59;">get_pos</span><span style="color:#F8F8F0;">()</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; var left_rect&nbsp;</span><span style="color:#FF5252;">=</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#B2FF59;">Rect2</span><span style="color:#F8F8F0;">(</span><span style="color:#B2FF59;">get_node</span><span style="color:#F8F8F0;">(</span><span style="color:yellow;">"left"</span><span style="color:#F8F8F0;">).</span><span style="color:#B2FF59;">get_pos</span><span style="color:#F8F8F0;">()&nbsp;</span><span style="color:#FF5252;">-</span><span style="color:#F8F8F0;">&nbsp;pad_size</span><span style="color:#FF5252;">*</span><span style="color:#FFAB40;">0.5</span><span style="color:#F8F8F0;">,&nbsp;pad_size)</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; var right_rect&nbsp;</span><span style="color:#FF5252;">=</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#B2FF59;">Rect2</span><span style="color:#F8F8F0;">(</span><span style="color:#B2FF59;">get_node</span><span style="color:#F8F8F0;">(</span><span style="color:yellow;">"right"</span><span style="color:#F8F8F0;">).</span><span style="color:#B2FF59;">get_pos</span><span style="color:#F8F8F0;">()&nbsp;</span><span style="color:#FF5252;">-</span><span style="color:#F8F8F0;">&nbsp;pad_size</span><span style="color:#FF5252;">*</span><span style="color:#FFAB40;">0.5</span><span style="color:#F8F8F0;">,&nbsp;pad_size)</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp;&nbsp;</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; # Integrate&nbsp;</span><span style="color:#FF5252;">new</span><span style="color:#F8F8F0;">&nbsp;ball position</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; ball_pos&nbsp;</span><span style="color:#FF5252;">+=</span><span style="color:#F8F8F0;">&nbsp;direction</span><span style="color:#FF5252;">*</span><span style="color:#F8F8F0;">ball_speed</span><span style="color:#FF5252;">*</span><span style="color:#F8F8F0;">delta</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp;&nbsp;</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; # Flip, change direction&nbsp;</span><span style="color:#FF5252;">and</span><span style="color:#F8F8F0;">&nbsp;increase speed when touching pads</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp;&nbsp;</span><span style="color:#FF5252;">if</span><span style="color:#F8F8F0;">&nbsp;((left_rect.</span><span style="color:#B2FF59;">has_point</span><span style="color:#F8F8F0;">(ball_pos)&nbsp;</span><span style="color:#FF5252;">and</span><span style="color:#F8F8F0;">&nbsp;direction.</span><span style="color:#40C4FF;">x</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FF5252;">&lt;</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FFAB40;">0</span><span style="color:#F8F8F0;">)&nbsp;</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp;&nbsp;</span><span style="color:#FF5252;">or</span><span style="color:#F8F8F0;">&nbsp;(right_rect.</span><span style="color:#B2FF59;">has_point</span><span style="color:#F8F8F0;">(ball_pos)&nbsp;</span><span style="color:#FF5252;">and</span><span style="color:#F8F8F0;">&nbsp;direction.</span><span style="color:#40C4FF;">x</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FF5252;">&gt;</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FFAB40;">0</span><span style="color:#F8F8F0;">)):</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; &nbsp; &nbsp; direction.</span><span style="color:#40C4FF;">x</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FF5252;">=</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FF5252;">-</span><span style="color:#F8F8F0;">direction.</span><span style="color:#40C4FF;">x</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; &nbsp; &nbsp; ball_speed&nbsp;</span><span style="color:#FF5252;">*=</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FFAB40;">1.1</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; &nbsp; &nbsp; direction.</span><span style="color:#40C4FF;">y</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FF5252;">=</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#B2FF59;">randf</span><span style="color:#F8F8F0;">()</span><span style="color:#FF5252;">*</span><span style="color:#FFAB40;">2.0</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FF5252;">-</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FFAB40;">1</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; &nbsp; &nbsp; direction&nbsp;</span><span style="color:#FF5252;">=</span><span style="color:#F8F8F0;">&nbsp;direction.</span><span style="color:#B2FF59;">normalized</span><span style="color:#F8F8F0;">()</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; ...</span></p>