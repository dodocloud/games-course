<p><span style="color:#FF5252;">export</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#E040FB;">class</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#40C4FF;">IntroComponent</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FF5252;">extends</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#B2FF59;">Component</span><span style="color:#F8F8F0;">&nbsp;{</span></p>
<p><span style="color:#F8F8F0;">&nbsp;&nbsp;</span><span style="color:#FF5252;">private</span><span style="color:#F8F8F0;">&nbsp;model</span><span style="color:#FF5252;">:</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#40C4FF;">Model</span><span style="color:#F8F8F0;">;</span></p>
<p><span style="color:#F8F8F0;">&nbsp;&nbsp;</span><span style="color:#FF5252;">private</span><span style="color:#F8F8F0;">&nbsp;factory</span><span style="color:#FF5252;">:</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#40C4FF;">Factory</span><span style="color:#F8F8F0;">;</span></p>
<p><span style="color:#F8F8F0;">&nbsp;</span></p>
<p><span style="color:#F8F8F0;">&nbsp;&nbsp;</span><span style="color:#B2FF59;">onInit</span><span style="color:#F8F8F0;">()&nbsp;{</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; &nbsp;&nbsp;</span><span style="color:#40C4FF;">this</span><span style="color:#F8F8F0;">.</span><span style="color:#40C4FF;">model</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FF5252;">=</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#40C4FF;">this</span><span style="color:#F8F8F0;">.</span><span style="color:#40C4FF;">scene</span><span style="color:#F8F8F0;">.</span><span style="color:#B2FF59;">getGlobalAttribute</span><span style="color:#F8F8F0;">(ATTR_MODEL);</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; &nbsp;&nbsp;</span><span style="color:#40C4FF;">this</span><span style="color:#F8F8F0;">.</span><span style="color:#B2FF59;">sendMessage</span><span style="color:#F8F8F0;">(MSG_GAME_STARTED);</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; &nbsp;&nbsp;</span><span style="color:#40C4FF;">this</span><span style="color:#F8F8F0;">.</span><span style="color:#40C4FF;">factory</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FF5252;">=</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#40C4FF;">this</span><span style="color:#F8F8F0;">.</span><span style="color:#40C4FF;">scene</span><span style="color:#F8F8F0;">.</span><span style="color:#B2FF59;">getGlobalAttribute</span><span style="color:#F8F8F0;">(ATTR_FACTORY);</span></p>
<p><span style="color:#F8F8F0;">&nbsp;</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; &nbsp;&nbsp;</span><span style="color:#40C4FF;">this</span><span style="color:#F8F8F0;">.</span><span style="color:#40C4FF;">scene</span><span style="color:#F8F8F0;">.</span><span style="color:#B2FF59;">invokeWithDelay</span><span style="color:#F8F8F0;">(</span><span style="color:#FFAB40;">5000</span><span style="color:#F8F8F0;">, ()&nbsp;</span><span style="color:#E040FB;">=&gt;</span><span style="color:#F8F8F0;">&nbsp;{</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span style="color:#ACACAC;">//&nbsp;set&nbsp;first&nbsp;level&nbsp;and&nbsp;reset&nbsp;the&nbsp;game</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span style="color:#40C4FF;">this</span><span style="color:#F8F8F0;">.</span><span style="color:#40C4FF;">model</span><span style="color:#F8F8F0;">.</span><span style="color:#40C4FF;">currentLevel</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FF5252;">=</span><span style="color:#F8F8F0;">&nbsp;</span><span style="color:#FFAB40;">1</span><span style="color:#F8F8F0;">;&nbsp;</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span style="color:#40C4FF;">this</span><span style="color:#F8F8F0;">.</span><span style="color:#40C4FF;">factory</span><span style="color:#F8F8F0;">.</span><span style="color:#B2FF59;">resetGame</span><span style="color:#F8F8F0;">(</span><span style="color:#40C4FF;">this</span><span style="color:#F8F8F0;">.</span><span style="color:#40C4FF;">scene</span><span style="color:#F8F8F0;">,&nbsp;</span><span style="color:#40C4FF;">this</span><span style="color:#F8F8F0;">.</span><span style="color:#40C4FF;">model</span><span style="color:#F8F8F0;">);</span></p>
<p><span style="color:#F8F8F0;">&nbsp; &nbsp; &nbsp; });</span></p>
<p><span style="color:#F8F8F0;">&nbsp; }</span></p>
<p><span style="color:#F8F8F0;">}</span></p>