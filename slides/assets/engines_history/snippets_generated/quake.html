<pre><span class="linenum">   1</span> <span class="token keyword">void</span><span class="token punctuation">(</span><span class="token punctuation">)</span> DeathSound <span class="token operator">=</span> <span class="token punctuation">{</span>
<span class="linenum">   2</span>     local float rs<span class="token punctuation">;</span>
<span class="linenum">   3</span>  
<span class="linenum">   4</span>     <span class="token comment">// water death sounds</span>
<span class="linenum">   5</span>     <span class="token keyword">if</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>waterlevel <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="linenum">   6</span>         <span class="token function">DeathBubbles</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="linenum">   7</span>         <span class="token function">sound</span> <span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token constant">CHAN_VOICE</span><span class="token punctuation">,</span>
<span class="linenum">   8</span>         <span class="token string">"player/h2odeath.wav"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">ATTN_NONE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="linenum">   9</span>         <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="linenum">  10</span>     <span class="token punctuation">}</span>
<span class="linenum">  11</span>    
<span class="linenum">  12</span>     rs <span class="token operator">=</span> <span class="token function">rint</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="linenum">  13</span>     <span class="token keyword">if</span> <span class="token punctuation">(</span>rs <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="linenum">  14</span>         self<span class="token punctuation">.</span>noise <span class="token operator">=</span> <span class="token string">"player/death1.wav"</span><span class="token punctuation">;</span>
<span class="linenum">  15</span>     <span class="token keyword">if</span> <span class="token punctuation">(</span>rs <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="linenum">  16</span>         self<span class="token punctuation">.</span>noise <span class="token operator">=</span> <span class="token string">"player/death2.wav"</span><span class="token punctuation">;</span>
<span class="linenum">  17</span>     <span class="token keyword">if</span> <span class="token punctuation">(</span>rs <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="linenum">  18</span>         self<span class="token punctuation">.</span>noise <span class="token operator">=</span> <span class="token string">"player/death3.wav"</span><span class="token punctuation">;</span>
<span class="linenum">  19</span>     <span class="token keyword">if</span> <span class="token punctuation">(</span>rs <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span>
<span class="linenum">  20</span>         self<span class="token punctuation">.</span>noise <span class="token operator">=</span> <span class="token string">"player/death4.wav"</span><span class="token punctuation">;</span>
<span class="linenum">  21</span>     <span class="token keyword">if</span> <span class="token punctuation">(</span>rs <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">)</span>
<span class="linenum">  22</span>         self<span class="token punctuation">.</span>noise <span class="token operator">=</span> <span class="token string">"player/death5.wav"</span><span class="token punctuation">;</span>
<span class="linenum">  23</span>  
<span class="linenum">  24</span>     <span class="token function">sound</span> <span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token constant">CHAN_VOICE</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>noise<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">ATTN_NONE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="linenum">  25</span>     <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="linenum">  26</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></pre>