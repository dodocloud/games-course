<pre><span class="linenum">   1</span> func <span class="token function">_process</span><span class="token punctuation">(</span>delta<span class="token punctuation">)</span><span class="token operator">:</span>
<span class="linenum">   2</span>     # Get ball position and pad rectangles
<span class="linenum">   3</span>     <span class="token keyword">var</span> ball_pos <span class="token operator">=</span> <span class="token function">get_node</span><span class="token punctuation">(</span><span class="token string">"ball"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get_pos</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="linenum">   4</span>     <span class="token keyword">var</span> left_rect <span class="token operator">=</span> <span class="token function">Rect2</span><span class="token punctuation">(</span><span class="token function">get_node</span><span class="token punctuation">(</span><span class="token string">"left"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get_pos</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> pad_size<span class="token operator">*</span><span class="token number">0.5</span><span class="token punctuation">,</span> pad_size<span class="token punctuation">)</span>
<span class="linenum">   5</span>     <span class="token keyword">var</span> right_rect <span class="token operator">=</span> <span class="token function">Rect2</span><span class="token punctuation">(</span><span class="token function">get_node</span><span class="token punctuation">(</span><span class="token string">"right"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get_pos</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> pad_size<span class="token operator">*</span><span class="token number">0.5</span><span class="token punctuation">,</span> pad_size<span class="token punctuation">)</span>
<span class="linenum">   6</span>     
<span class="linenum">   7</span>     # Integrate <span class="token keyword">new</span> <span class="token class-name">ball</span> position
<span class="linenum">   8</span>     ball_pos <span class="token operator">+=</span> direction<span class="token operator">*</span>ball_speed<span class="token operator">*</span>delta
<span class="linenum">   9</span>     
<span class="linenum">  10</span>     # Flip<span class="token punctuation">,</span> change direction and increase speed when touching pads
<span class="linenum">  11</span>     <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>left_rect<span class="token punctuation">.</span><span class="token function">has_point</span><span class="token punctuation">(</span>ball_pos<span class="token punctuation">)</span> and direction<span class="token punctuation">.</span>x <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> 
<span class="linenum">  12</span>     <span class="token function">or</span> <span class="token punctuation">(</span>right_rect<span class="token punctuation">.</span><span class="token function">has_point</span><span class="token punctuation">(</span>ball_pos<span class="token punctuation">)</span> and direction<span class="token punctuation">.</span>x <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">:</span>
<span class="linenum">  13</span>         direction<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token operator">-</span>direction<span class="token punctuation">.</span>x
<span class="linenum">  14</span>         ball_speed <span class="token operator">*=</span> <span class="token number">1.1</span>
<span class="linenum">  15</span>         direction<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token function">randf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">2.0</span> <span class="token operator">-</span> <span class="token number">1</span>
<span class="linenum">  16</span>         direction <span class="token operator">=</span> direction<span class="token punctuation">.</span><span class="token function">normalized</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="linenum">  17</span>     <span class="token operator">...</span></pre>